document.addEventListener("DOMContentLoaded",function(){var n,e,t,o,r,i,d,s,a,c,l,u,m,v,f=document.getElementById("registrationModal"),E=(f&&(n=function(){f.classList.remove("is-active"),document.body.style.overflow=""},t=document.getElementById("modalClose"),g=f.querySelector(".modal__overlay"),e=f.querySelector(".modal__content"),document.querySelectorAll('[data-modal="registration"]').forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),f.classList.add("is-active"),document.body.style.overflow="hidden"})}),t&&t.addEventListener("click",n),g&&g.addEventListener("click",n),document.addEventListener("keydown",function(e){"Escape"===e.key&&f.classList.contains("is-active")&&n()}),e&&e.addEventListener("click",function(e){e.stopPropagation()}),t=document.getElementById("registrationForm"))&&(o=function(){return d.value.trim().includes("@")?(a.classList.remove("error"),!(l.textContent="")):(a.classList.add("error"),!(l.textContent="Provide a valid e-mail address"))},r=function(){return s.value.length<6?(c.classList.add("error"),!(u.textContent="Provide a valid password")):(c.classList.remove("error"),!(u.textContent=""))},i=function(){var e=d.value.trim().includes("@"),t=6<=s.value.length,n=v.checked;m.disabled=!(e&&t&&n)},d=document.getElementById("emailInput"),s=document.getElementById("passwordInput"),a=document.getElementById("emailGroup"),c=document.getElementById("passwordGroup"),l=document.getElementById("emailError"),u=document.getElementById("passwordError"),m=document.getElementById("submitButton"),v=t.querySelector('input[type="checkbox"]'),d.addEventListener("input",function(){""!==this.value.trim()&&o(),i()}),d.addEventListener("blur",function(){""!==this.value.trim()&&o()}),s.addEventListener("input",function(){""!==this.value&&r(),i()}),s.addEventListener("blur",function(){""!==this.value&&r()}),v.addEventListener("change",i),t.addEventListener("submit",function(e){e.preventDefault();var e=o(),t=r();e&&t&&v.checked&&(t={email:(e=new FormData(this)).get("email"),password:e.get("password"),terms:"on"===e.get("terms")},console.log("Данные формы:",t),this.reset(),a.classList.remove("error"),c.classList.remove("error"),l.textContent="",u.textContent="",m.disabled=!0,n())}),i()),new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&e.target.classList.add("is-visible")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"})),g=(document.querySelectorAll(".animate-on-scroll").forEach(function(e){E.observe(e)}),document.querySelector(".promo__button"));g&&(g.setAttribute("data-modal","registration"),g.addEventListener("click",function(e){e.preventDefault();e=document.getElementById("registrationModal");e&&(e.classList.add("is-active"),document.body.style.overflow="hidden")}));function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];clearTimeout(h),h=setTimeout(function(){clearTimeout(h),p.apply(void 0,t)},L)}var p,L,h;p=function(){console.log("Window resized")},L=250;window.addEventListener("resize",y),console.log("ClickSpin: Инициализация завершена")});